<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Найденные питомцы - Регистрация</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="auth-page">
    <!-- Навигация -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-heart-pulse"></i> НайденныеПитомцы
            </a>
            <div class="navbar-nav">
                <a href="index.html" class="nav-link">← Назад на главную</a>
            </div>
        </div>
    </nav>

    <!-- Форма регистрации -->
    <section class="auth-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6">
                    <div class="auth-card">
                        <div class="auth-header text-center mb-4">
                            <i class="bi bi-person-plus auth-icon"></i>
                            <h2>Регистрация</h2>
                            <p class="text-muted">Создайте новый аккаунт</p>
                        </div>

                        <form class="auth-form" id="registerForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">Имя *</label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-person"></i>
                                        </span>
                                        <input type="text" class="form-control" id="firstName" placeholder="Ваше имя" required>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Фамилия *</label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-person"></i>
                                        </span>
                                        <input type="text" class="form-control" id="lastName" placeholder="Ваша фамилия" required>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="email" class="form-label">Email *</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-envelope"></i>
                                    </span>
                                    <input type="email" class="form-control" id="email" placeholder="your@email.com" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="phone" class="form-label">Телефон *</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-telephone"></i>
                                    </span>
                                    <input type="tel" class="form-control" id="phone" placeholder="+7 (999) 123-45-67" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="city" class="form-label">Город *</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-geo-alt"></i>
                                    </span>
                                    <select class="form-select" id="city" required>
                                        <option value="" selected disabled>Выберите город</option>
                                        <option>Москва</option>
                                        <option>Санкт-Петербург</option>
                                        <option>Новосибирск</option>
                                        <option>Екатеринбург</option>
                                        <option>Казань</option>
                                        <option>Другой город</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="password" class="form-label">Пароль *</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-lock"></i>
                                    </span>
                                    <input type="password" class="form-control" id="password" placeholder="Создайте пароль" required>
                                    <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                                <div class="form-text">
                                    Пароль должен содержать минимум 8 символов, включаing цифры и буквы
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="confirmPassword" class="form-label">Подтверждение пароля *</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-lock-fill"></i>
                                    </span>
                                    <input type="password" class="form-control" id="confirmPassword" placeholder="Повторите пароль" required>
                                </div>
                            </div>

                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="agreeTerms" required>
                                <label class="form-check-label" for="agreeTerms">
                                    Я соглашаюсь с <a href="#" class="text-decoration-none">условиями использования</a> 
                                    и <a href="#" class="text-decoration-none">политикой конфиденциальности</a>
                                </label>
                            </div>

                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="newsletter">
                                <label class="form-check-label" for="newsletter">
                                    Подписаться на рассылку новостей и уведомлений
                                </label>
                            </div>

                            <button type="submit" class="btn btn-primary w-100 mb-3">
                                Создать аккаунт
                            </button>

                            <div class="text-center">
                                <p class="mb-0">
                                    Уже есть аккаунт? 
                                    <a href="login.html" class="text-decoration-none">Войти</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Футер -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p>&copy; 2023 НайденныеПитомцы. Все права защищены.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/auth-simple.js"></script>
    <script>
        // Показать/скрыть пароль
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('bi-eye');
                icon.classList.add('bi-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('bi-eye-slash');
                icon.classList.add('bi-eye');
            }
        });

        // Валидация пароля
        document.getElementById('confirmPassword').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            
            if (password !== confirmPassword) {
                this.setCustomValidity('Пароли не совпадают');
            } else {
                this.setCustomValidity('');
            }
        });

        // Маска для телефона
        document.getElementById('phone').addEventListener('input', function(e) {
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
            e.target.value = '+7' + (x[2] ? ' (' + x[2] : '') + (x[3] ? ') ' + x[3] : '') + (x[4] ? '-' + x[4] : '') + (x[5] ? '-' + x[5] : '');
        });

        // Обработка формы регистрации - автоматический вход
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Автоматически входим и переходим на главную
            window.simpleAuth.login();
            window.location.href = 'index.html';
        });

        // Автоматическое обновление интерфейса
        document.addEventListener('DOMContentLoaded', function() {
            window.simpleAuth.updateUI();
        });
    </script>
</body>
</html>